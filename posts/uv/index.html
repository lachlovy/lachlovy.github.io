<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>uv 入门指南 | Lachlovy's Blog</title>
<meta name=keywords content><meta name=description content="uv 是一个极快的 Python 包安装器和解析器，用 Rust 编写，旨在作为 pip 和 pip-tools 工作流程的即插即用替代品。"><meta name=author content><link rel=canonical href=https://lachlovy.github.io/posts/uv/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://lachlovy.github.io/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lachlovy.github.io/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://lachlovy.github.io/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://lachlovy.github.io/favicon/apple-touch-icon.png><link rel=mask-icon href=https://lachlovy.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://lachlovy.github.io/posts/uv/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})'></script><meta property="og:url" content="https://lachlovy.github.io/posts/uv/"><meta property="og:site_name" content="Lachlovy's Blog"><meta property="og:title" content="uv 入门指南"><meta property="og:description" content="uv 是一个极快的 Python 包安装器和解析器，用 Rust 编写，旨在作为 pip 和 pip-tools 工作流程的即插即用替代品。"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-10T09:00:00+08:00"><meta property="article:modified_time" content="2025-03-10T09:00:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="uv 入门指南"><meta name=twitter:description content="uv 是一个极快的 Python 包安装器和解析器，用 Rust 编写，旨在作为 pip 和 pip-tools 工作流程的即插即用替代品。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://lachlovy.github.io/posts/"},{"@type":"ListItem","position":2,"name":"uv 入门指南","item":"https://lachlovy.github.io/posts/uv/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"uv 入门指南","name":"uv 入门指南","description":"uv 是一个极快的 Python 包安装器和解析器，用 Rust 编写，旨在作为 pip 和 pip-tools 工作流程的即插即用替代品。","keywords":[],"articleBody":" uv 项目正处于快速更新中，本文提到的部分功能或命令可能有变化，请仔细辨别。\nuv 是一个来自 Astral 公司使用 Rust 编写的 Python 包安装器和解析器，旨在作为 pip 和 pip-tools 工作流程的即插即用替代品。据官网说明，其速度比 pip 快 10 - 100 倍。\n同样优秀的工具有 Conda，Conda 是一个更早期的包管理器，广泛用于数据科学和科学计算，支持 Python 及其他语言（如 R、Julia）。由于支持多语言，在一定程度上影响了其速度指标，特别是当依赖复杂或需要解决多源包冲突时。而 uv 的核心优势在于速度。\n1. 安装 对于 macOS 和 Linux 系统，使用命令行安装（curl 或 wget）：\n# use curl curl -LsSf https://astral.sh/uv/install.sh | sh # use wget wget -qO- https://astral.sh/uv/install.sh | sh macOS 还可以使用 Homebrew 进行安装：\nbrew install uv 对于 Windows 用户，使用命令安装：\npowershell -ExecutionPolicy ByPass -c \"irm https://astral.sh/uv/install.ps1 | iex\" 安装完成后可通过 uv help 查看基本命令。\n2. 使用 2.1 安装 Python 作为一个 Python 包管理器，当然能够支持安装不同版本的 Python。\n使用命令 uv python install 来安装不同版本的 Python。\nuv python install 3.10 3.11 3.12 若指定 Python 版本在本机上已安装，uv 会直接使用该 Python 可执行文件，而不是重新安装一个。\n已安装的 Python 版本和位置可以通过命令 uv python list 查看。\n通过 uv run your_python_script.py 调用全局安装的 Python 运行脚本。 也可以指定版本 uv run --python 3.11 your_python_script.py\n如何调用 Python REPL？直接输入命令 uv run python 即可打开 REPL。\n本机上安装了多个版本 Python，如何切换版本？使用命令 uv python pin 来切换默认 Python。\n2.2 管理虚拟环境 通过 uv 创建虚拟环境：\nuv venv 则在当前项目文件夹下创建了一个 .venv 文件夹，可以通过可选项 --python 指定 Python 版本。\n激活环境和反激活环境可以用如下命令\n# activate venv source .venv/bin/activate # deactivate venv after activated deactive 2.3 管理项目 使用命令 uv init 来创建一个文件夹为 的项目。如需指定项目名和 Python 版本，可以使用参数 --name 和 --python\n创建好项目并进入后，我们可以看到一个结构为：\ndemo-project ├── .git ├── .gitignore ├── .python-version ├── README.md ├── main.py └── pyproject.toml 的 Python 项目，uv 自动使用 Git 进行版本控制。\n.git、.gitignore：Git 版本管理文件。 .python-version：当前项目使用的 Python 版本。 main.py：uv 为项目自动创建的 Python 示例脚本，可后续删除或替换为自己的 Python 脚本。 pyproject.toml：定义项目名、项目版本、Python 版本需求、依赖等信息。 README.md：一个空的 README 文件。 2.4 安装依赖 uv 有两种方式安装依赖：\nuv add ：使用 uv 安装依赖并将依赖添加到项目信息中。 uv pip install ：使用当前项目 Python 环境安装 pip 包，不记录进项目信息中，只修改环境。 例如，在项目中安装 PyTorch 包，只需要运行：\nuv add torch torchvision torchaudio 执行 add 操作后，uv会创建一个虚拟环境 venv 并安装所指定的包，uv 会自动完善项目信息文件（pyproject.toml 和 uv.lock）：\n# pyproject.toml dependencies = [ \"torch\u003e=2.6.0\", \"torchaudio\u003e=2.6.0\", \"torchvision\u003e=0.21.0\", ] # uv.lock dependencies = [ { name = \"torch\" }, { name = \"torchaudio\" }, { name = \"torchvision\" }, ] [package.metadata] requires-dist = [ { name = \"torch\", specifier = \"\u003e=2.6.0\" }, { name = \"torchaudio\", specifier = \"\u003e=2.6.0\" }, { name = \"torchvision\", specifier = \"\u003e=0.21.0\" }, ] ... 关于使用 uv 安装 PyTorch，官方贴心地写了一整个文档来安装不同环境下的 PyTorch（cpu, cu11.2, etc）。\n请注意，uv.lock 文件不应手动修改，应由 uv 来进行自动管理。\n当一个项目尝试安装本地安装过的依赖且与当前 Python 相匹配时，再次安装该依赖的速度非常快。\n如何使用 uv 安装 requirements.txt 中的依赖？\n# use uv uv add -r requirements.txt # use pip uv pip install -r requirements.txt 2.5 移除依赖 要从项目中移除一个依赖，只需要执行命令：\nuv remove uv 会自动删除该依赖并修改项目信息，并删除其依赖的包。\n2.6 运行脚本 使用 uv run ","wordCount":"1643","inLanguage":"en","datePublished":"2025-03-10T09:00:00+08:00","dateModified":"2025-03-10T09:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://lachlovy.github.io/posts/uv/"},"publisher":{"@type":"Organization","name":"Lachlovy's Blog","logo":{"@type":"ImageObject","url":"https://lachlovy.github.io/favicon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lachlovy.github.io/ accesskey=h title="Lachlovy's Blog (Alt + H)">Lachlovy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://lachlovy.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://lachlovy.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://lachlovy.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">uv 入门指南</h1><div class=post-meta><span title='2025-03-10 09:00:00 +0800 +0800'>March 10, 2025</span>&nbsp;·&nbsp;4 min</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-%e5%ae%89%e8%a3%85 aria-label="1. 安装">1. 安装</a></li><li><a href=#2-%e4%bd%bf%e7%94%a8 aria-label="2. 使用">2. 使用</a><ul><li><a href=#21-%e5%ae%89%e8%a3%85-python aria-label="2.1 安装 Python">2.1 安装 Python</a></li><li><a href=#22-%e7%ae%a1%e7%90%86%e8%99%9a%e6%8b%9f%e7%8e%af%e5%a2%83 aria-label="2.2 管理虚拟环境">2.2 管理虚拟环境</a></li><li><a href=#23-%e7%ae%a1%e7%90%86%e9%a1%b9%e7%9b%ae aria-label="2.3 管理项目">2.3 管理项目</a></li><li><a href=#24-%e5%ae%89%e8%a3%85%e4%be%9d%e8%b5%96 aria-label="2.4 安装依赖">2.4 安装依赖</a></li><li><a href=#25-%e7%a7%bb%e9%99%a4%e4%be%9d%e8%b5%96 aria-label="2.5 移除依赖">2.5 移除依赖</a></li><li><a href=#26-%e8%bf%90%e8%a1%8c%e8%84%9a%e6%9c%ac aria-label="2.6 运行脚本">2.6 运行脚本</a></li></ul></li><li><a href=#3-ide-%e6%94%af%e6%8c%81%e6%83%85%e5%86%b5 aria-label="3. IDE 支持情况">3. IDE 支持情况</a></li><li><a href=#31-pycharm aria-label="3.1 PyCharm">3.1 PyCharm</a><ul><li><a href=#32-visual-studio-code aria-label="3.2 Visual-Studio-Code">3.2 Visual-Studio-Code</a></li></ul></li><li><a href=#4-%e6%9b%b4%e5%a4%9a%e5%8a%9f%e8%83%bd aria-label="4. 更多功能">4. 更多功能</a></li></ul></div></details></div><div class=post-content><blockquote><p>uv 项目正处于快速更新中，本文提到的部分功能或命令可能有变化，请仔细辨别。</p></blockquote><p><a href=https://github.com/astral-sh/uv>uv</a> 是一个来自 <a href=https://astral.sh>Astral 公司</a>使用 Rust 编写的 Python 包安装器和解析器，旨在作为 pip 和 pip-tools 工作流程的即插即用替代品。据官网说明，其速度比 pip 快 10 - 100 倍。</p><p>同样优秀的工具有 Conda，Conda 是一个更早期的包管理器，广泛用于数据科学和科学计算，支持 Python 及其他语言（如 R、Julia）。由于支持多语言，在一定程度上影响了其速度指标，特别是当依赖复杂或需要解决多源包冲突时。而 uv 的核心优势在于速度。</p><p><img alt="uv installation speed" loading=lazy src=https://github.com/astral-sh/uv/assets/1309177/629e59c0-9c6e-4013-9ad4-adb2bcf5080d#only-light></p><h2 id=1-安装>1. 安装<a hidden class=anchor aria-hidden=true href=#1-安装>#</a></h2><p>对于 macOS 和 Linux 系统，使用命令行安装（<code>curl</code> 或 <code>wget</code>）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># use curl</span>
</span></span><span style=display:flex><span>curl -LsSf https://astral.sh/uv/install.sh | sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># use wget</span>
</span></span><span style=display:flex><span>wget -qO- https://astral.sh/uv/install.sh | sh
</span></span></code></pre></div><p>macOS 还可以使用 Homebrew 进行安装：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install uv
</span></span></code></pre></div><p>对于 Windows 用户，使用命令安装：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>powershell -ExecutionPolicy ByPass -c <span style=color:#e6db74>&#34;irm https://astral.sh/uv/install.ps1 | iex&#34;</span>
</span></span></code></pre></div><p>安装完成后可通过 <code>uv help</code> 查看基本命令。</p><p><img alt=uv loading=lazy src=https://img.imgdd.com/29d8a675-326a-4b5e-acaa-9477990425f1.png></p><h2 id=2-使用>2. 使用<a hidden class=anchor aria-hidden=true href=#2-使用>#</a></h2><h3 id=21-安装-python>2.1 安装 Python<a hidden class=anchor aria-hidden=true href=#21-安装-python>#</a></h3><p>作为一个 Python 包管理器，当然能够支持安装不同版本的 Python。</p><p>使用命令 <code>uv python install</code> 来安装不同版本的 Python。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>uv python install 3.10 3.11 3.12
</span></span></code></pre></div><p>若指定 Python 版本在本机上已安装，uv 会直接使用该 Python 可执行文件，而不是重新安装一个。</p><p>已安装的 Python 版本和位置可以通过命令 <code>uv python list</code> 查看。</p><p>通过 <code>uv run your_python_script.py</code> 调用全局安装的 Python 运行脚本。 也可以指定版本 <code>uv run --python 3.11 your_python_script.py</code></p><blockquote><p>如何调用 Python REPL？直接输入命令 <code>uv run python</code> 即可打开 REPL。</p></blockquote><blockquote><p>本机上安装了多个版本 Python，如何切换版本？使用命令 <code>uv python pin &lt;version></code> 来切换默认 Python。</p></blockquote><h3 id=22-管理虚拟环境>2.2 管理虚拟环境<a hidden class=anchor aria-hidden=true href=#22-管理虚拟环境>#</a></h3><p>通过 uv 创建虚拟环境：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>uv venv
</span></span></code></pre></div><p>则在当前项目文件夹下创建了一个 <code>.venv</code> 文件夹，可以通过可选项 <code>--python</code> 指定 Python 版本。</p><p>激活环境和反激活环境可以用如下命令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># activate venv</span>
</span></span><span style=display:flex><span>source .venv/bin/activate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># deactivate venv after activated</span>
</span></span><span style=display:flex><span>deactive
</span></span></code></pre></div><h3 id=23-管理项目>2.3 管理项目<a hidden class=anchor aria-hidden=true href=#23-管理项目>#</a></h3><p>使用命令 <code>uv init &lt;project-dir></code> 来创建一个文件夹为 <code>&lt;project-dir></code> 的项目。如需指定项目名和 Python 版本，可以使用参数 <code>--name</code> 和 <code>--python</code></p><p>创建好项目并进入后，我们可以看到一个结构为：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>demo-project
</span></span><span style=display:flex><span>├── .git
</span></span><span style=display:flex><span>├── .gitignore
</span></span><span style=display:flex><span>├── .python-version
</span></span><span style=display:flex><span>├── README.md
</span></span><span style=display:flex><span>├── main.py
</span></span><span style=display:flex><span>└── pyproject.toml
</span></span></code></pre></div><p>的 Python 项目，uv 自动使用 Git 进行版本控制。</p><ul><li><code>.git</code>、<code>.gitignore</code>：Git 版本管理文件。</li><li><code>.python-version</code>：当前项目使用的 Python 版本。</li><li><code>main.py</code>：uv 为项目自动创建的 Python 示例脚本，可后续删除或替换为自己的 Python 脚本。</li><li><code>pyproject.toml</code>：定义项目名、项目版本、Python 版本需求、依赖等信息。</li><li><code>README.md</code>：一个空的 README 文件。</li></ul><h3 id=24-安装依赖>2.4 安装依赖<a hidden class=anchor aria-hidden=true href=#24-安装依赖>#</a></h3><p>uv 有两种方式安装依赖：</p><ol><li><code>uv add &lt;package></code>：使用 uv 安装依赖并将依赖添加到项目信息中。</li><li><code>uv pip install &lt;package></code>：使用当前项目 Python 环境安装 pip 包，不记录进项目信息中，只修改环境。</li></ol><p>例如，在项目中安装 PyTorch 包，只需要运行：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>uv add torch torchvision torchaudio
</span></span></code></pre></div><p>执行 <code>add</code> 操作后，uv会创建一个虚拟环境 <code>venv</code> 并安装所指定的包，uv 会自动完善项目信息文件（<code>pyproject.toml</code> 和 <code>uv.lock</code>）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#75715e># pyproject.toml</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dependencies</span> = [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;torch&gt;=2.6.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;torchaudio&gt;=2.6.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;torchvision&gt;=0.21.0&#34;</span>,
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><pre tabindex=0><code># uv.lock
dependencies = [
    { name = &#34;torch&#34; },
    { name = &#34;torchaudio&#34; },
    { name = &#34;torchvision&#34; },
]

[package.metadata]
requires-dist = [
    { name = &#34;torch&#34;, specifier = &#34;&gt;=2.6.0&#34; },
    { name = &#34;torchaudio&#34;, specifier = &#34;&gt;=2.6.0&#34; },
    { name = &#34;torchvision&#34;, specifier = &#34;&gt;=0.21.0&#34; },
]
...
</code></pre><blockquote><p>关于使用 uv 安装 PyTorch，官方贴心地写了<a href=https://docs.astral.sh/uv/guides/integration/pytorch/>一整个文档</a>来安装不同环境下的 PyTorch（cpu, cu11.2, etc）。</p></blockquote><p><strong>请注意，<code>uv.lock</code> 文件不应手动修改，应由 uv 来进行自动管理。</strong></p><p>当一个项目尝试安装本地安装过的依赖且与当前 Python 相匹配时，<strong>再次安装该依赖的速度非常快</strong>。</p><blockquote><p>如何使用 uv 安装 <code>requirements.txt</code> 中的依赖？</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># use uv</span>
</span></span><span style=display:flex><span>uv add -r requirements.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># use pip</span>
</span></span><span style=display:flex><span>uv pip install -r requirements.txt
</span></span></code></pre></div></blockquote><h3 id=25-移除依赖>2.5 移除依赖<a hidden class=anchor aria-hidden=true href=#25-移除依赖>#</a></h3><p>要从项目中移除一个依赖，只需要执行命令：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>uv remove &lt;package&gt;
</span></span></code></pre></div><p>uv 会自动删除该依赖并修改项目信息，并删除其依赖的包。</p><h3 id=26-运行脚本>2.6 运行脚本<a hidden class=anchor aria-hidden=true href=#26-运行脚本>#</a></h3><p>使用 <code>uv run &lt;script></code> 来运行 Python 代码，例如在一个 pandas 依赖的项目中运行如下代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># panda_version.py</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> pandas <span style=color:#66d9ef>as</span> pd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(pd<span style=color:#f92672>.</span>__version__)
</span></span></code></pre></div><p>我们可以看到输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ uv run panda_version.py
</span></span><span style=display:flex><span>2.2.3
</span></span></code></pre></div><p><code>uv run</code> 的可执行文件在当前项目的 <code>.venv/bin</code> 目录下。</p><p>也可以显式激活当前虚拟环境 <code>source .venv/bin/activate</code>，激活环境后直接使用 Python：<code>python panda_version.py</code></p><h2 id=3-ide-支持情况>3. IDE 支持情况<a hidden class=anchor aria-hidden=true href=#3-ide-支持情况>#</a></h2><h2 id=31-pycharm>3.1 PyCharm<a hidden class=anchor aria-hidden=true href=#31-pycharm>#</a></h2><p>PyCharm 也<a href=https://blog.jetbrains.com/pycharm/2025/01/pycharm-2024-3-2/>已支持 uv 包管理器</a>来添加 Python 解释器：</p><p><img alt="PyCharm uv" loading=lazy src=https://img.imgdd.com/06467f64-f192-4702-905c-8618a674fe2c.png></p><p>在使用 PyCharm 时，遇到未安装的包，可以通过 Pycahrm <code>Install package &lt;package></code> 功能一键执行 <code>uv add</code> 命令：</p><p><img alt="PyCharm quick add package" loading=lazy src=https://img.imgdd.com/1be2b1da-6d71-490c-90f8-c7c67d0f4677.png></p><p>随后，项目中包安装完毕，且 <code>pyproject.toml</code> 与 <code>uv.lock</code> 已自动添加依赖信息。</p><h3 id=32-visual-studio-code>3.2 Visual-Studio-Code<a hidden class=anchor aria-hidden=true href=#32-visual-studio-code>#</a></h3><p>VSCode 中也可以直接使用虚拟环境的解释器来运行脚本：</p><p><img alt="VSCode uv" loading=lazy src=https://img.imgdd.com/ba3af3dc-62d8-44dc-99c4-cfd1c1b864a4.png></p><h2 id=4-更多功能>4. 更多功能<a hidden class=anchor aria-hidden=true href=#4-更多功能>#</a></h2><p>还有更多功能，例如使用 uv tool 安装 <code>ruff</code> 或者 <code>black</code>、使用 uv clean 等。更多使用指南请参考<a href=https://docs.astral.sh/uv/>官方文档</a>。</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://lachlovy.github.io/posts/knowledge-distillation/><span class=title>Next »</span><br><span>知识蒸馏简述</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://lachlovy.github.io/>Lachlovy's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>